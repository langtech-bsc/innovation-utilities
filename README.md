# Innovation utilities

**Table of contents**

- [Innovation utilities](#innovation-utilities)
  - [1. Description](#1-description)
  - [2. Installation](#2-installation)
    - [Poetry](#poetry)
    - [Pip or conda environments](#pip-or-conda-environments)
    - [Docker](#docker)
  - [3. Usage](#3-usage)
  - [5. Folder structure](#5-folder-structure)


##  1. Description

This project aims to gather basic python classes to quickly run some basic tasks. We'll start with ASR and data generation examples.

Some recommendations:
- We recommend using the code by building the docker image.
- We've tested the configuration with device set to cpu, but the gpu device should be working as well.
- Start by building the docker image and running the transcribe_folder_example.py. Then, adapt the configuration file to your needs.

##  2. Installation

### Poetry

To setup this project you can use poetry.

1. install poetry: https://python-poetry.org/docs/
   1. in linux it is really easy to follow the instruction of the official installer
   2. here: https://python-poetry.org/docs/#installing-with-the-official-installer
2. creating the env should be as easy as running
```bash
git clone git@github.com:langtech-bsc/innovation-utilities.git
cd innovation-utilities
poetry config virtualenvs.in-project true # to create the env in the project folder
poetry lock  # to create/update the lock file
poetry install
```

### Pip or conda environments

If you work with other env different than poetry you can run:

```bash
pip install -e .  # in dev mode
```

### Docker

A working dockerfile is already provided. To build the image run:

```bash
IMAGE_NAME="innovation-utilities"
docker build -t $IMAGE_NAME .
```

##  3. Usage

Running the examples should be as easy as using the scripts in the environment or in the docker image. Please, find more specific documentation here:
- [speech module](docs/README_speech.md)
- gendata module

## 5. Folder structure

This is the current folder structure:

```bash
$ tree innovation-utilities/
innovation-utilities/
├── config                                      # config files
│   └── speech
│       └── transcribe_folder.yaml              #   - config file for the corresponding example
├── data
│   └── speech
│       ├── input                               # example of input data
│       │   ├── common_voice_es_41913638.mp3
│       │   ├── common_voice_es_41913640.mp3
│       │   └── common_voice_es_42044997.mp3
│       └── output                              # example of output data
│           ├── common_voice_es_41913638.json
│           ├── common_voice_es_41913640.json
│           └── common_voice_es_42044997.json
├── Dockerfile
├── examples                                    # examples showing how the classes can be used
│   └── speech
│       └── transcribe_folder_example.py        #   - ASR applied to a folder
├── innovation                                  # package main folder
│   ├── gendata
│   │   ├── __init__.py
│   │   ├── __main__.py
│   │   ├── methods
│   │   │   ├── default.py
│   │   │   ├── __init__.py
│   │   │   └── method_manager.py
│   │   ├── models
│   │   │   ├── __init__.py
│   │   │   ├── model_manager.py
│   │   │   └── open_ai.py
│   │   ├── models_examples
│   │   │   └── openai.yml
│   │   ├── tasks_examples
│   │   │   ├── complex.yml
│   │   │   └── simple.yml
│   │   └── utils
│   │       ├── class_manager.py
│   │       ├── logger.py
│   │       ├── timer.py
│   │       └── utils.py
│   └── speech
│       ├── __init__.py
│       ├── modules                             # modules classes
│       │   ├── __init__.py
│       │   ├── collect_data_module.py          #   - for data collection
│       │   └── transcribe_audios_module.py     #   - for asr
│       └── utils                               # utils functions
│           ├── __init__.py
│           └── io_utils.py
├── poetry.lock                                 # poetry env related file
├── pyproject.toml                              # poetry env related file
├── README.md                                   # this readme file
├── requirements.txt                            # do not edit this file, generaed using scripts/poetry2requirements.sh
├── scripts                                     # bash scripts
│   ├── activate_poetry_env.sh                  #   - used to activate poetry env
│   ├── poetry2requirements.sh                  #   - used to generate requirements.txt
│   └── run_example.sh                          #   - used to run the transcribe_folder.py
```